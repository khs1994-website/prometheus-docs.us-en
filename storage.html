
<!DOCTYPE HTML>
<html lang="us-en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Storage · prometheus 英文文档</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-prism/prism-solarizedlight.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    
    <link rel="prev" href="stability.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://docs.khs1994.com" target="_blank" class="custom-link">Home</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Command Line
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="command-line/">
            
                <a href="command-line/">
            
                    
                    Command Line
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="command-line/prometheus.html">
            
                <a href="command-line/prometheus.html">
            
                    
                    Prometheus
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="command-line/promtool.html">
            
                <a href="command-line/promtool.html">
            
                    
                    Promtool
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Configuration
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="configuration/alerting_rules.html">
            
                <a href="configuration/alerting_rules.html">
            
                    
                    Alerting Rules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="configuration/">
            
                <a href="configuration/">
            
                    
                    Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="configuration/https.html">
            
                <a href="configuration/https.html">
            
                    
                    HTTPS And Authentication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="configuration/promtool.html">
            
                <a href="configuration/promtool.html">
            
                    
                    HTTP Configuration For Promtool
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="configuration/recording_rules.html">
            
                <a href="configuration/recording_rules.html">
            
                    
                    Defining Recording Rules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="configuration/template_examples.html">
            
                <a href="configuration/template_examples.html">
            
                    
                    Template Examples
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="configuration/template_reference.html">
            
                <a href="configuration/template_reference.html">
            
                    
                    Template Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="configuration/unit_testing_rules.html">
            
                <a href="configuration/unit_testing_rules.html">
            
                    
                    Unit Testing For Rules
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Querying
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="querying/api.html">
            
                <a href="querying/api.html">
            
                    
                    HTTP API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="querying/basics.html">
            
                <a href="querying/basics.html">
            
                    
                    Querying Basics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="querying/examples.html">
            
                <a href="querying/examples.html">
            
                    
                    Query Examples
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="querying/functions.html">
            
                <a href="querying/functions.html">
            
                    
                    Query Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="querying/">
            
                <a href="querying/">
            
                    
                    Querying
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="querying/operators.html">
            
                <a href="querying/operators.html">
            
                    
                    Operators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="querying/remote_read_api.html">
            
                <a href="querying/remote_read_api.html">
            
                    
                    Remote Read API
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="feature_flags.html">
            
                <a href="feature_flags.html">
            
                    
                    Feature Flags
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="federation.html">
            
                <a href="federation.html">
            
                    
                    Federation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="getting_started.html">
            
                <a href="getting_started.html">
            
                    
                    Getting Started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="http_sd.html">
            
                <a href="http_sd.html">
            
                    
                    Writing HTTP Service Discovery
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="installation.html">
            
                <a href="installation.html">
            
                    
                    Installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="management_api.html">
            
                <a href="management_api.html">
            
                    
                    Management API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="migration.html">
            
                <a href="migration.html">
            
                    
                    Prometheus 3.0 migration guide
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="stability.html">
            
                <a href="stability.html">
            
                    
                    API Stability Guarantees
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.13" data-path="storage.html">
            
                <a href="storage.html">
            
                    
                    Storage
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Storage</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <p>Prometheus includes a local on-disk time series database, but also optionally integrates with remote storage systems.</p>
<h2 id="local-storage">Local storage</h2>
<p>Prometheus&apos;s local time series database stores data in a custom, highly efficient format on local storage.</p>
<h3 id="on-disk-layout">On-disk layout</h3>
<p>Ingested samples are grouped into blocks of two hours. Each two-hour block consists
of a directory containing a chunks subdirectory containing all the time series samples
for that window of time, a metadata file, and an index file (which indexes metric names
and labels to time series in the chunks directory). The samples in the chunks directory
are grouped together into one or more segment files of up to 512MB each by default. When
series are deleted via the API, deletion records are stored in separate tombstone files
(instead of deleting the data immediately from the chunk segments).</p>
<p>The current block for incoming samples is kept in memory and is not fully
persisted. It is secured against crashes by a write-ahead log (WAL) that can be
replayed when the Prometheus server restarts. Write-ahead log files are stored
in the <code>wal</code> directory in 128MB segments. These files contain raw data that
has not yet been compacted; thus they are significantly larger than regular block
files. Prometheus will retain a minimum of three write-ahead log files.
High-traffic servers may retain more than three WAL files in order to keep at
least two hours of raw data.</p>
<p>A Prometheus server&apos;s data directory looks something like this:</p>
<pre class="language-"><code>./data
&#x251C;&#x2500;&#x2500; 01BKGV7JBM69T2G1BGBGM6KB12
&#x2502;   &#x2514;&#x2500;&#x2500; meta.json
&#x251C;&#x2500;&#x2500; 01BKGTZQ1SYQJTR4PB43C8PD98
&#x2502;   &#x251C;&#x2500;&#x2500; chunks
&#x2502;   &#x2502;   &#x2514;&#x2500;&#x2500; 000001
&#x2502;   &#x251C;&#x2500;&#x2500; tombstones
&#x2502;   &#x251C;&#x2500;&#x2500; index
&#x2502;   &#x2514;&#x2500;&#x2500; meta.json
&#x251C;&#x2500;&#x2500; 01BKGTZQ1HHWHV8FBJXW1Y3W0K
&#x2502;   &#x2514;&#x2500;&#x2500; meta.json
&#x251C;&#x2500;&#x2500; 01BKGV7JC0RY8A6MACW02A2PJD
&#x2502;   &#x251C;&#x2500;&#x2500; chunks
&#x2502;   &#x2502;   &#x2514;&#x2500;&#x2500; 000001
&#x2502;   &#x251C;&#x2500;&#x2500; tombstones
&#x2502;   &#x251C;&#x2500;&#x2500; index
&#x2502;   &#x2514;&#x2500;&#x2500; meta.json
&#x251C;&#x2500;&#x2500; chunks_head
&#x2502;   &#x2514;&#x2500;&#x2500; 000001
&#x2514;&#x2500;&#x2500; wal
    &#x251C;&#x2500;&#x2500; 000000002
    &#x2514;&#x2500;&#x2500; checkpoint.00000001
        &#x2514;&#x2500;&#x2500; 00000000
</code></pre><p>Note that a limitation of local storage is that it is not clustered or
replicated. Thus, it is not arbitrarily scalable or durable in the face of
drive or node outages and should be managed like any other single node
database.</p>
<p><a href="querying/api.html#snapshot">Snapshots</a> are recommended for backups. Backups
made without snapshots run the risk of losing data that was recorded since
the last WAL sync, which typically happens every two hours. With proper
architecture, it is possible to retain years of data in local storage.</p>
<p>Alternatively, external storage may be used via the
<a href="https://prometheus.io/docs/operating/integrations/#remote-endpoints-and-storage" target="_blank">remote read/write APIs</a>.
Careful evaluation is required for these systems as they vary greatly in durability,
performance, and efficiency.</p>
<p>For further details on file format, see <a href="tsdb/docs/format/README.md">TSDB format</a>.</p>
<h3 id="compaction">Compaction</h3>
<p>The initial two-hour blocks are eventually compacted into longer blocks in the background.</p>
<p>Compaction will create larger blocks containing data spanning up to 10% of the retention time,
or 31 days, whichever is smaller.</p>
<h3 id="operational-aspects">Operational aspects</h3>
<p>Prometheus has several flags that configure local storage. The most important are:</p>
<ul>
<li><code>--storage.tsdb.path</code>: Where Prometheus writes its database. Defaults to <code>data/</code>.</li>
<li><code>--storage.tsdb.retention.time</code>: How long to retain samples in storage. If neither
this flag nor <code>storage.tsdb.retention.size</code> is set, the retention time defaults to
<code>15d</code>. Supported units: y, w, d, h, m, s, ms.</li>
<li><code>--storage.tsdb.retention.size</code>: The maximum number of bytes of storage blocks to retain.
The oldest data will be removed first. Defaults to <code>0</code> or disabled. Units supported:
B, KB, MB, GB, TB, PB, EB. Ex: &quot;512MB&quot;. Based on powers-of-2, so 1KB is 1024B. Only
the persistent blocks are deleted to honor this retention although WAL and m-mapped
chunks are counted in the total size. So the minimum requirement for the disk is the
peak space taken by the <code>wal</code> (the WAL and Checkpoint) and <code>chunks_head</code>
(m-mapped Head chunks) directory combined (peaks every 2 hours).</li>
<li><code>--storage.tsdb.wal-compression</code>: Enables compression of the write-ahead log (WAL).
Depending on your data, you can expect the WAL size to be halved with little extra
CPU load. This flag was introduced in 2.11.0 and enabled by default in 2.20.0.
Note that once enabled, downgrading Prometheus to a version below 2.11.0 will
require deleting the WAL.</li>
</ul>
<p>Prometheus stores an average of only 1-2 bytes per sample. Thus, to plan the
capacity of a Prometheus server, you can use the rough formula:</p>
<pre class="language-"><code>needed_disk_space = retention_time_seconds * ingested_samples_per_second * bytes_per_sample
</code></pre><p>To lower the rate of ingested samples, you can either reduce the number of
time series you scrape (fewer targets or fewer series per target), or you
can increase the scrape interval. However, reducing the number of series is
likely more effective, due to compression of samples within a series.</p>
<p>If your local storage becomes corrupted to the point where Prometheus will not
start it is recommended to backup the storage directory and restore the
corrupted block directories from your backups. If you do not have backups the
last resort is to remove the corrupted files. For example you can try removing
individual block directories or the write-ahead-log (WAL) files. Note that this
means losing the data for the time range those blocks or WAL covers.</p>
<p>CAUTION: Non-POSIX compliant filesystems are not supported for Prometheus&apos;
local storage as unrecoverable corruptions may happen. NFS filesystems
(including AWS&apos;s EFS) are not supported. NFS could be POSIX-compliant,
but most implementations are not. It is strongly recommended to use a
local filesystem for reliability.</p>
<p>If both time and size retention policies are specified, whichever triggers first
will be used.</p>
<p>Expired block cleanup happens in the background. It may take up to two hours
to remove expired blocks. Blocks must be fully expired before they are removed.</p>
<h3 id="right-sizing-retention-size">Right-Sizing Retention Size</h3>
<p>If you are utilizing <code>storage.tsdb.retention.size</code> to set a size limit, you
will want to consider the right size for this value relative to the storage you
have allocated for Prometheus. It is wise to reduce the retention size to provide
a buffer, ensuring that older entries will be removed before the allocated storage
for Prometheus becomes full.</p>
<p>At present, we recommend setting the retention size to, at most, 80-85% of your
allocated Prometheus disk space. This increases the likelihood that older entries
will be removed prior to hitting any disk limitations.</p>
<h2 id="remote-storage-integrations">Remote storage integrations</h2>
<p>Prometheus&apos;s local storage is limited to a single node&apos;s scalability and durability.
Instead of trying to solve clustered storage in Prometheus itself, Prometheus offers
a set of interfaces that allow integrating with remote storage systems.</p>
<h3 id="overview">Overview</h3>
<p>Prometheus integrates with remote storage systems in four ways:</p>
<ul>
<li>Prometheus can write samples that it ingests to a remote URL in a <a href="https://prometheus.io/docs/specs/remote_write_spec_2_0/" target="_blank">Remote Write format</a>.</li>
<li>Prometheus can receive samples from other clients in a <a href="https://prometheus.io/docs/specs/remote_write_spec_2_0/" target="_blank">Remote Write format</a>.</li>
<li>Prometheus can read (back) sample data from a remote URL in a <a href="https://github.com/prometheus/prometheus/blob/main/prompb/remote.proto#L31" target="_blank">Remote Read format</a>.</li>
<li>Prometheus can return sample data requested by clients in a <a href="https://github.com/prometheus/prometheus/blob/main/prompb/remote.proto#L31" target="_blank">Remote Read format</a>.</li>
</ul>
<p><img src="images/remote_integrations.png" alt="Remote read and write architecture"></p>
<p>The remote read and write protocols both use a snappy-compressed protocol buffer encoding over
HTTP. The read protocol is not yet considered as stable API.</p>
<p>The write protocol has a <a href="https://prometheus.io/docs/specs/remote_write_spec/" target="_blank">stable specification for 1.0 version</a>
and <a href="https://prometheus.io/docs/specs/remote_write_spec_2_0/" target="_blank">experimental specification for 2.0 version</a>,
both supported by Prometheus server.</p>
<p>For details on configuring remote storage integrations in Prometheus as a client, see the
<a href="configuration/configuration.md#remote_write">remote write</a> and
<a href="configuration/configuration.md#remote_read">remote read</a> sections of the Prometheus
configuration documentation.</p>
<p>Note that on the read path, Prometheus only fetches raw series data for a set of
label selectors and time ranges from the remote end. All PromQL evaluation on the
raw data still happens in Prometheus itself. This means that remote read queries
have some scalability limit, since all necessary data needs to be loaded into the
querying Prometheus server first and then processed there. However, supporting
fully distributed evaluation of PromQL was deemed infeasible for the time being.</p>
<p>Prometheus also serves both protocols. The built-in remote write receiver can be enabled
by setting the <code>--web.enable-remote-write-receiver</code> command line flag. When enabled,
the remote write receiver endpoint is <code>/api/v1/write</code>. The remote read endpoint is
available on <a href="https://prometheus.io/docs/prometheus/latest/querying/remote_read_api/" target="_blank"><code>/api/v1/read</code></a>.</p>
<h3 id="existing-integrations">Existing integrations</h3>
<p>To learn more about existing integrations with remote storage systems, see the
<a href="https://prometheus.io/docs/operating/integrations/#remote-endpoints-and-storage" target="_blank">Integrations documentation</a>.</p>
<h2 id="backfilling-from-openmetrics-format">Backfilling from OpenMetrics format</h2>
<h3 id="overview">Overview</h3>
<p>If a user wants to create blocks into the TSDB from data that is in
<a href="https://openmetrics.io/" target="_blank">OpenMetrics</a> format, they can do so using backfilling.
However, they should be careful and note that it is not safe to backfill data
from the last 3 hours (the current head block) as this time range may overlap
with the current head block Prometheus is still mutating. Backfilling will
create new TSDB blocks, each containing two hours of metrics data. This limits
the memory requirements of block creation. Compacting the two hour blocks into
larger blocks is later done by the Prometheus server itself.</p>
<p>A typical use case is to migrate metrics data from a different monitoring system
or time-series database to Prometheus. To do so, the user must first convert the
source data into <a href="https://openmetrics.io/" target="_blank">OpenMetrics</a> format, which is the
input format for the backfilling as described below.</p>
<p>Note that native histograms and staleness markers are not supported by this
procedure, as they cannot be represented in the OpenMetrics format.</p>
<h3 id="usage">Usage</h3>
<p>Backfilling can be used via the <code>promtool</code> command line. <code>promtool</code> will write the blocks
to a directory. By default this output directory is ./data/, you can change it by
using the name of the desired output directory as an optional argument in the sub-command.</p>
<pre class="language-"><code>promtool tsdb create-blocks-from openmetrics <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">file</span><span class="token punctuation">&gt;</span></span> [<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>output</span> <span class="token attr-name">directory</span><span class="token punctuation">&gt;</span></span>]
</code></pre><p>After the creation of the blocks, move it to the data directory of Prometheus.
If there is an overlap with the existing blocks in Prometheus, the flag
<code>--storage.tsdb.allow-overlapping-blocks</code> needs to be set for Prometheus versions
v2.38 and below. Note that any backfilled data is subject to the retention
configured for your Prometheus server (by time or size).</p>
<h4 id="longer-block-durations">Longer Block Durations</h4>
<p>By default, the promtool will use the default block duration (2h) for the blocks;
this behavior is the most generally applicable and correct. However, when backfilling
data over a long range of times, it may be advantageous to use a larger value for
the block duration to backfill faster and prevent additional compactions by TSDB later.</p>
<p>The <code>--max-block-duration</code> flag allows the user to configure a maximum duration of blocks.
The backfilling tool will pick a suitable block duration no larger than this.</p>
<p>While larger blocks may improve the performance of backfilling large datasets,
drawbacks exist as well. Time-based retention policies must keep the entire block
around if even one sample of the (potentially large) block is still within the
retention policy. Conversely, size-based retention policies will remove the entire
block even if the TSDB only goes over the size limit in a minor way.</p>
<p>Therefore, backfilling with few blocks, thereby choosing a larger block duration,
must be done with care and is not recommended for any production instances.</p>
<h2 id="backfilling-for-recording-rules">Backfilling for Recording Rules</h2>
<h3 id="overview">Overview</h3>
<p>When a new recording rule is created, there is no historical data for it.
Recording rule data only exists from the creation time on.
<code>promtool</code> makes it possible to create historical recording rule data.</p>
<h3 id="usage">Usage</h3>
<p>To see all options, use: <code>$ promtool tsdb create-blocks-from rules --help</code>.</p>
<p>Example usage:</p>
<pre class="language-"><code>$ promtool tsdb create-blocks-from rules \
    --start 1617079873 \
    --end 1617097873 \
    --url http://mypromserver.com:9090 \
    rules.yaml rules2.yaml
</code></pre><p>The recording rule files provided should be a normal
<a href="https://prometheus.io/docs/prometheus/latest/configuration/recording_rules/" target="_blank">Prometheus rules file</a>.</p>
<p>The output of <code>promtool tsdb create-blocks-from rules</code> command is a directory that
contains blocks with the historical rule data for all rules in the recording rule
files. By default, the output directory is <code>data/</code>. In order to make use of this
new block data, the blocks must be moved to a running Prometheus instance data dir
<code>storage.tsdb.path</code> (for Prometheus versions v2.38 and below, the flag
<code>--storage.tsdb.allow-overlapping-blocks</code> must be enabled). Once moved, the new
blocks will merge with existing blocks when the next compaction runs.</p>
<h3 id="limitations">Limitations</h3>
<ul>
<li>If you run the rule backfiller multiple times with the overlapping start/end times,
blocks containing the same data will be created each time the rule backfiller is run.</li>
<li>All rules in the recording rule files will be evaluated.</li>
<li>If the <code>interval</code> is set in the recording rule file that will take priority over
the <code>eval-interval</code> flag in the rule backfill command.</li>
<li>Alerts are currently ignored if they are in the recording rule file.</li>
<li>Rules in the same group cannot see the results of previous rules. Meaning that rules
that refer to other rules being backfilled is not supported. A workaround is to
backfill multiple times and create the dependent data first (and move dependent
data to the Prometheus server data dir so that it is accessible from the Prometheus API).</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="stability.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: API Stability Guarantees">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Storage","sort_rank":5,"level":"1.13","depth":1,"previous":{"title":"API Stability Guarantees","level":"1.12","depth":1,"path":"stability.md","ref":"stability.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-sharing","-highlight","-livereload","prism"],"styles":{"pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css","website":"styles/website.css"},"pluginsConfig":{"prism":{"css":["prismjs/themes/prism-solarizedlight.css"]},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css","website":"styles/website.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"prometheus 英文文档","language":"us-en","links":{"sidebar":{"Home":"https://docs.khs1994.com"}},"gitbook":"*"},"file":{"path":"storage.md","mtime":"2025-11-01T02:00:08.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2025-11-01T02:00:34.252Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

